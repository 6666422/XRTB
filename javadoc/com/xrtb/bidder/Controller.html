<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_66) on Sun Nov 29 08:25:18 PST 2015 -->
<title>Controller</title>
<meta name="date" content="2015-11-29">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Controller";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":9,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/xrtb/bidder/CampaignSelector.html" title="class in com.xrtb.bidder"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../com/xrtb/bidder/DataAssetTypes.html" title="class in com.xrtb.bidder"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/xrtb/bidder/Controller.html" target="_top">Frames</a></li>
<li><a href="Controller.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.xrtb.bidder</div>
<h2 title="Class Controller" class="title">Class Controller</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.xrtb.bidder.Controller</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">Controller</span>
extends java.lang.Object</pre>
<div class="block">A class for handling REDIS based commands to the RTB server. The Controller open REDIS channels to the
 requested channels to handle commands, and logging channels for log messages, win  notifications,
 bid requests and bids. The idea is to transmit all this information through REDIS so that you can\
 build your own database, accounting, and analystic processes outside of the bidding engine.
 
 Another job of the Controller is to create the REDIS cache. There could be multiple bidders running in the
 infrastructure, but handling a win notification requires that you have information about the original bid. This
 means the system receiving the notification may not be the same system that made the bid. The bid is stored in the
 cache as a map so the win handling system can handle the win, even though it did not actually make the bid.</div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Ben M. Faul</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/xrtb/bidder/Controller.html#ADD_CAMPAIGN">ADD_CAMPAIGN</a></span></code>
<div class="block">Add campaign REDIS command id</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/xrtb/bidder/Controller.html#COMMANDS">COMMANDS</a></span></code>
<div class="block">The REDIS channel for sending commands to the bidders</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../com/xrtb/common/Configuration.html" title="class in com.xrtb.common">Configuration</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/xrtb/bidder/Controller.html#config">config</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/xrtb/bidder/Controller.html#DEL_CAMPAIGN">DEL_CAMPAIGN</a></span></code>
<div class="block">Delete campaign REDIS command id</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/xrtb/bidder/Controller.html#ECHO">ECHO</a></span></code>
<div class="block">The echo status REDIS command id</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/xrtb/bidder/Controller.html#PERCENTAGE">PERCENTAGE</a></span></code>
<div class="block">The percentage REDIS command id</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/xrtb/bidder/Controller.html#RESPONSES">RESPONSES</a></span></code>
<div class="block">The REDIS channel the bidder sends command responses out on</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/xrtb/bidder/Controller.html#SETLOGLEVEL">SETLOGLEVEL</a></span></code>
<div class="block">The set log level command</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/xrtb/bidder/Controller.html#START_BIDDER">START_BIDDER</a></span></code>
<div class="block">Start the bidder REDIS command id</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/xrtb/bidder/Controller.html#STOP_BIDDER">STOP_BIDDER</a></span></code>
<div class="block">Stop the bidder REDIS command id</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/xrtb/bidder/Controller.html#addCampaign-com.xrtb.commands.BasicCommand-">addCampaign</a></span>(<a href="../../../com/xrtb/commands/BasicCommand.html" title="class in com.xrtb.commands">BasicCommand</a>&nbsp;c)</code>
<div class="block">Add a campaign from REDIS</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/xrtb/bidder/Controller.html#addCampaign-com.xrtb.common.Campaign-">addCampaign</a></span>(<a href="../../../com/xrtb/common/Campaign.html" title="class in com.xrtb.common">Campaign</a>&nbsp;c)</code>
<div class="block">Simplest form of the add campaign</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/xrtb/bidder/Controller.html#deleteBidFromCache-java.lang.String-">deleteBidFromCache</a></span>(java.lang.String&nbsp;hash)</code>
<div class="block">Remove a bid object from the cache.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/xrtb/bidder/Controller.html#deleteCampaign-com.xrtb.commands.BasicCommand-">deleteCampaign</a></span>(<a href="../../../com/xrtb/commands/BasicCommand.html" title="class in com.xrtb.commands">BasicCommand</a>&nbsp;cmd)</code>
<div class="block">From REDIS delete campaign</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/xrtb/bidder/Controller.html#deleteCampaign-java.lang.String-">deleteCampaign</a></span>(java.lang.String&nbsp;id)</code>
<div class="block">Delete a campaign.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/xrtb/bidder/Controller.html#echo-com.xrtb.commands.BasicCommand-">echo</a></span>(<a href="../../../com/xrtb/commands/BasicCommand.html" title="class in com.xrtb.commands">BasicCommand</a>&nbsp;cmd)</code>
<div class="block">THe echo command and its response.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>java.util.Map</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/xrtb/bidder/Controller.html#getBidData-java.lang.String-">getBidData</a></span>(java.lang.String&nbsp;oid)</code>
<div class="block">Retrieve previously recorded bid data</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>static <a href="../../../com/xrtb/bidder/Controller.html" title="class in com.xrtb.bidder">Controller</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/xrtb/bidder/Controller.html#getInstance--">getInstance</a></span>()</code>
<div class="block">Get the controller using localhost for REDIS connections.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/xrtb/bidder/Controller.html#notHandled-com.xrtb.commands.BasicCommand-">notHandled</a></span>(<a href="../../../com/xrtb/commands/BasicCommand.html" title="class in com.xrtb.commands">BasicCommand</a>&nbsp;cmd)</code>&nbsp;</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/xrtb/bidder/Controller.html#publishClick-java.lang.String-">publishClick</a></span>(java.lang.String&nbsp;target)</code>
<div class="block">Send click info.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/xrtb/bidder/Controller.html#publishConvert-java.lang.String-">publishConvert</a></span>(java.lang.String&nbsp;target)</code>
<div class="block">Send pixel info.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/xrtb/bidder/Controller.html#publishPixel-java.lang.String-">publishPixel</a></span>(java.lang.String&nbsp;target)</code>
<div class="block">Send pixel info.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/xrtb/bidder/Controller.html#recordBid-com.xrtb.pojo.BidResponse-">recordBid</a></span>(<a href="../../../com/xrtb/pojo/BidResponse.html" title="class in com.xrtb.pojo">BidResponse</a>&nbsp;br)</code>
<div class="block">Record a bid in REDIS</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/xrtb/bidder/Controller.html#sendBid-com.xrtb.pojo.BidResponse-">sendBid</a></span>(<a href="../../../com/xrtb/pojo/BidResponse.html" title="class in com.xrtb.pojo">BidResponse</a>&nbsp;bid)</code>
<div class="block">Sends an RTB bid out on the appropriate REDIS queue</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/xrtb/bidder/Controller.html#sendLog-int-java.lang.String-java.lang.String-">sendLog</a></span>(int&nbsp;level,
       java.lang.String&nbsp;field,
       java.lang.String&nbsp;msg)</code>
<div class="block">Sends a log message on the appropriate REDIS queue</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/xrtb/bidder/Controller.html#sendRequest-com.xrtb.pojo.BidRequest-">sendRequest</a></span>(<a href="../../../com/xrtb/pojo/BidRequest.html" title="class in com.xrtb.pojo">BidRequest</a>&nbsp;br)</code>
<div class="block">Sends an RTB request out on the appropriate REDIS queue</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/xrtb/bidder/Controller.html#sendWin-java.lang.String-java.lang.String-java.lang.String-java.lang.String-java.lang.String-java.lang.String-java.lang.String-java.lang.String-java.lang.String-">sendWin</a></span>(java.lang.String&nbsp;hash,
       java.lang.String&nbsp;cost,
       java.lang.String&nbsp;lat,
       java.lang.String&nbsp;lon,
       java.lang.String&nbsp;adId,
       java.lang.String&nbsp;pubId,
       java.lang.String&nbsp;image,
       java.lang.String&nbsp;forward,
       java.lang.String&nbsp;price)</code>
<div class="block">Sends an RTB win out on the appropriate REDIS queue</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/xrtb/bidder/Controller.html#setLogLevel-com.xrtb.commands.BasicCommand-">setLogLevel</a></span>(<a href="../../../com/xrtb/commands/BasicCommand.html" title="class in com.xrtb.commands">BasicCommand</a>&nbsp;cmd)</code>&nbsp;</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/xrtb/bidder/Controller.html#setPercentage-com.fasterxml.jackson.databind.JsonNode-">setPercentage</a></span>(com.fasterxml.jackson.databind.JsonNode&nbsp;node)</code>
<div class="block">Set the throttle percentage from REDIS</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/xrtb/bidder/Controller.html#startBidder-com.xrtb.commands.BasicCommand-">startBidder</a></span>(<a href="../../../com/xrtb/commands/BasicCommand.html" title="class in com.xrtb.commands">BasicCommand</a>&nbsp;cmd)</code>
<div class="block">Start the bidder from REDIS</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/xrtb/bidder/Controller.html#stopBidder-com.xrtb.commands.BasicCommand-">stopBidder</a></span>(<a href="../../../com/xrtb/commands/BasicCommand.html" title="class in com.xrtb.commands">BasicCommand</a>&nbsp;cmd)</code>
<div class="block">Stop the bidder from REDIS</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="ADD_CAMPAIGN">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ADD_CAMPAIGN</h4>
<pre>public static final&nbsp;int ADD_CAMPAIGN</pre>
<div class="block">Add campaign REDIS command id</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#com.xrtb.bidder.Controller.ADD_CAMPAIGN">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="DEL_CAMPAIGN">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DEL_CAMPAIGN</h4>
<pre>public static final&nbsp;int DEL_CAMPAIGN</pre>
<div class="block">Delete campaign REDIS command id</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#com.xrtb.bidder.Controller.DEL_CAMPAIGN">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="STOP_BIDDER">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>STOP_BIDDER</h4>
<pre>public static final&nbsp;int STOP_BIDDER</pre>
<div class="block">Stop the bidder REDIS command id</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#com.xrtb.bidder.Controller.STOP_BIDDER">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="START_BIDDER">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>START_BIDDER</h4>
<pre>public static final&nbsp;int START_BIDDER</pre>
<div class="block">Start the bidder REDIS command id</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#com.xrtb.bidder.Controller.START_BIDDER">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="PERCENTAGE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>PERCENTAGE</h4>
<pre>public static final&nbsp;int PERCENTAGE</pre>
<div class="block">The percentage REDIS command id</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#com.xrtb.bidder.Controller.PERCENTAGE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="ECHO">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ECHO</h4>
<pre>public static final&nbsp;int ECHO</pre>
<div class="block">The echo status REDIS command id</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#com.xrtb.bidder.Controller.ECHO">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="SETLOGLEVEL">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SETLOGLEVEL</h4>
<pre>public static final&nbsp;int SETLOGLEVEL</pre>
<div class="block">The set log level command</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#com.xrtb.bidder.Controller.SETLOGLEVEL">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="COMMANDS">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>COMMANDS</h4>
<pre>public static final&nbsp;java.lang.String COMMANDS</pre>
<div class="block">The REDIS channel for sending commands to the bidders</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#com.xrtb.bidder.Controller.COMMANDS">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="RESPONSES">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>RESPONSES</h4>
<pre>public static final&nbsp;java.lang.String RESPONSES</pre>
<div class="block">The REDIS channel the bidder sends command responses out on</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#com.xrtb.bidder.Controller.RESPONSES">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="config">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>config</h4>
<pre>protected&nbsp;<a href="../../../com/xrtb/common/Configuration.html" title="class in com.xrtb.common">Configuration</a> config</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getInstance--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInstance</h4>
<pre>public static&nbsp;<a href="../../../com/xrtb/bidder/Controller.html" title="class in com.xrtb.bidder">Controller</a>&nbsp;getInstance()
                              throws java.lang.Exception</pre>
<div class="block">Get the controller using localhost for REDIS connections.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Controller. The singleton object of the controller.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - on errors instantiating the controller (like REDIS errors).</dd>
</dl>
</li>
</ul>
<a name="addCampaign-com.xrtb.common.Campaign-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addCampaign</h4>
<pre>public&nbsp;void&nbsp;addCampaign(<a href="../../../com/xrtb/common/Campaign.html" title="class in com.xrtb.common">Campaign</a>&nbsp;c)
                 throws java.lang.Exception</pre>
<div class="block">Simplest form of the add campaign</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>c</code> - Campaign. The campaign to add.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - on redis errors.</dd>
</dl>
</li>
</ul>
<a name="addCampaign-com.xrtb.commands.BasicCommand-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addCampaign</h4>
<pre>public&nbsp;void&nbsp;addCampaign(<a href="../../../com/xrtb/commands/BasicCommand.html" title="class in com.xrtb.commands">BasicCommand</a>&nbsp;c)
                 throws java.lang.Exception</pre>
<div class="block">Add a campaign from REDIS</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>c</code> - BasiCommand. The command to add</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - on REDIS errors.</dd>
</dl>
</li>
</ul>
<a name="deleteCampaign-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteCampaign</h4>
<pre>public&nbsp;void&nbsp;deleteCampaign(java.lang.String&nbsp;id)
                    throws java.lang.Exception</pre>
<div class="block">Delete a campaign.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - String. The Map of this command.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - if there is a JSON parse error.</dd>
</dl>
</li>
</ul>
<a name="deleteCampaign-com.xrtb.commands.BasicCommand-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteCampaign</h4>
<pre>public&nbsp;void&nbsp;deleteCampaign(<a href="../../../com/xrtb/commands/BasicCommand.html" title="class in com.xrtb.commands">BasicCommand</a>&nbsp;cmd)
                    throws java.lang.Exception</pre>
<div class="block">From REDIS delete campaign</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cmd</code> - BasicCommand.  The delete command</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code></dd>
</dl>
</li>
</ul>
<a name="stopBidder-com.xrtb.commands.BasicCommand-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stopBidder</h4>
<pre>public&nbsp;void&nbsp;stopBidder(<a href="../../../com/xrtb/commands/BasicCommand.html" title="class in com.xrtb.commands">BasicCommand</a>&nbsp;cmd)
                throws java.lang.Exception</pre>
<div class="block">Stop the bidder from REDIS</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cmd</code> - BasicCommand. The command as a map.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - if there is a JSON parsing error.</dd>
</dl>
</li>
</ul>
<a name="startBidder-com.xrtb.commands.BasicCommand-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startBidder</h4>
<pre>public&nbsp;void&nbsp;startBidder(<a href="../../../com/xrtb/commands/BasicCommand.html" title="class in com.xrtb.commands">BasicCommand</a>&nbsp;cmd)
                 throws java.lang.Exception</pre>
<div class="block">Start the bidder from REDIS</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cmd</code> - BasicCmd. The command.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - if there is a JSON parsing error.</dd>
</dl>
</li>
</ul>
<a name="setPercentage-com.fasterxml.jackson.databind.JsonNode-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setPercentage</h4>
<pre>public&nbsp;void&nbsp;setPercentage(com.fasterxml.jackson.databind.JsonNode&nbsp;node)</pre>
<div class="block">Set the throttle percentage from REDIS</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>node.</code> - JsoNode - JSON  of the command.
 TODO: this needs implementation.</dd>
</dl>
</li>
</ul>
<a name="echo-com.xrtb.commands.BasicCommand-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>echo</h4>
<pre>public&nbsp;void&nbsp;echo(<a href="../../../com/xrtb/commands/BasicCommand.html" title="class in com.xrtb.commands">BasicCommand</a>&nbsp;cmd)
          throws java.lang.Exception</pre>
<div class="block">THe echo command and its response.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cmd</code> - BasicCommand. The command used</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - if there is a JSON parsing error.</dd>
</dl>
</li>
</ul>
<a name="setLogLevel-com.xrtb.commands.BasicCommand-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setLogLevel</h4>
<pre>public&nbsp;void&nbsp;setLogLevel(<a href="../../../com/xrtb/commands/BasicCommand.html" title="class in com.xrtb.commands">BasicCommand</a>&nbsp;cmd)
                 throws java.lang.Exception</pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code></dd>
</dl>
</li>
</ul>
<a name="notHandled-com.xrtb.commands.BasicCommand-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>notHandled</h4>
<pre>public&nbsp;void&nbsp;notHandled(<a href="../../../com/xrtb/commands/BasicCommand.html" title="class in com.xrtb.commands">BasicCommand</a>&nbsp;cmd)
                throws java.lang.Exception</pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code></dd>
</dl>
</li>
</ul>
<a name="sendRequest-com.xrtb.pojo.BidRequest-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendRequest</h4>
<pre>public&nbsp;void&nbsp;sendRequest(<a href="../../../com/xrtb/pojo/BidRequest.html" title="class in com.xrtb.pojo">BidRequest</a>&nbsp;br)</pre>
<div class="block">Sends an RTB request out on the appropriate REDIS queue</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>br</code> - BidRequest. The request</dd>
</dl>
</li>
</ul>
<a name="sendBid-com.xrtb.pojo.BidResponse-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendBid</h4>
<pre>public&nbsp;void&nbsp;sendBid(<a href="../../../com/xrtb/pojo/BidResponse.html" title="class in com.xrtb.pojo">BidResponse</a>&nbsp;bid)</pre>
<div class="block">Sends an RTB bid out on the appropriate REDIS queue</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>bid</code> - BidResponse. The bid</dd>
</dl>
</li>
</ul>
<a name="sendWin-java.lang.String-java.lang.String-java.lang.String-java.lang.String-java.lang.String-java.lang.String-java.lang.String-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendWin</h4>
<pre>public&nbsp;void&nbsp;sendWin(java.lang.String&nbsp;hash,
                    java.lang.String&nbsp;cost,
                    java.lang.String&nbsp;lat,
                    java.lang.String&nbsp;lon,
                    java.lang.String&nbsp;adId,
                    java.lang.String&nbsp;pubId,
                    java.lang.String&nbsp;image,
                    java.lang.String&nbsp;forward,
                    java.lang.String&nbsp;price)</pre>
<div class="block">Sends an RTB win out on the appropriate REDIS queue</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>hash</code> - String. The bid id.</dd>
<dd><code>cost</code> - String. The cost component of the win.</dd>
<dd><code>lat</code> - String. The latitude component of the win.</dd>
<dd><code>lon</code> - String. The longitude component of the win.</dd>
<dd><code>adId</code> - String. The campaign adid of this win.</dd>
<dd><code>pubId</code> - String. The publisher id component of this win/</dd>
<dd><code>image</code> - String. The image part of the win.</dd>
<dd><code>forward</code> - String. The forward URL of the win.</dd>
<dd><code>price</code> - String. The bid price of the win.</dd>
</dl>
</li>
</ul>
<a name="sendLog-int-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendLog</h4>
<pre>public&nbsp;void&nbsp;sendLog(int&nbsp;level,
                    java.lang.String&nbsp;field,
                    java.lang.String&nbsp;msg)</pre>
<div class="block">Sends a log message on the appropriate REDIS queue</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>level</code> - int. The log level of this message.</dd>
<dd><code>field</code> - String. An identification field for this message.</dd>
<dd><code>msg</code> - String. The JSON of the message</dd>
</dl>
</li>
</ul>
<a name="publishClick-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>publishClick</h4>
<pre>public&nbsp;void&nbsp;publishClick(java.lang.String&nbsp;target)</pre>
<div class="block">Send click info.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>target</code> - String. The URI of this click data</dd>
</dl>
</li>
</ul>
<a name="publishPixel-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>publishPixel</h4>
<pre>public&nbsp;void&nbsp;publishPixel(java.lang.String&nbsp;target)</pre>
<div class="block">Send pixel info. This fires when the ad actually loads into the users web page.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>target</code> - String. The URI of this pixel data</dd>
</dl>
</li>
</ul>
<a name="publishConvert-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>publishConvert</h4>
<pre>public&nbsp;void&nbsp;publishConvert(java.lang.String&nbsp;target)</pre>
<div class="block">Send pixel info. This fires when the ad actually loads into the users web page.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>target</code> - String. The URI of this pixel data</dd>
</dl>
</li>
</ul>
<a name="recordBid-com.xrtb.pojo.BidResponse-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>recordBid</h4>
<pre>public&nbsp;void&nbsp;recordBid(<a href="../../../com/xrtb/pojo/BidResponse.html" title="class in com.xrtb.pojo">BidResponse</a>&nbsp;br)
               throws java.lang.Exception</pre>
<div class="block">Record a bid in REDIS</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>br</code> - BidResponse. The bid response that we made earlier.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - on redis errors.</dd>
</dl>
</li>
</ul>
<a name="deleteBidFromCache-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteBidFromCache</h4>
<pre>public&nbsp;void&nbsp;deleteBidFromCache(java.lang.String&nbsp;hash)</pre>
<div class="block">Remove a bid object from the cache.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>hash</code> - String. The bid object id.</dd>
</dl>
</li>
</ul>
<a name="getBidData-java.lang.String-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getBidData</h4>
<pre>public&nbsp;java.util.Map&nbsp;getBidData(java.lang.String&nbsp;oid)</pre>
<div class="block">Retrieve previously recorded bid data</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>oid</code> - String. The object id of the bid.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Map. A map of the returned data, will be null if not found.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/xrtb/bidder/CampaignSelector.html" title="class in com.xrtb.bidder"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../com/xrtb/bidder/DataAssetTypes.html" title="class in com.xrtb.bidder"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/xrtb/bidder/Controller.html" target="_top">Frames</a></li>
<li><a href="Controller.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
