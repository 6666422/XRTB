<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_31) on Fri Feb 13 13:43:32 PST 2015 -->
<title>Node</title>
<meta name="date" content="2015-02-13">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Node";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":9,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/xrtb/common/JJS.html" title="class in com.xrtb.common"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../com/xrtb/common/Template.html" title="class in com.xrtb.common"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/xrtb/common/Node.html" target="_top">Frames</a></li>
<li><a href="Node.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.xrtb.common</div>
<h2 title="Class Node" class="title">Class Node</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.xrtb.common.Node</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../com/xrtb/geo/GeoNode.html" title="class in com.xrtb.geo">GeoNode</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">Node</span>
extends java.lang.Object</pre>
<div class="block">A class that implements a parse-able node in the RTB object, and applies campaign logic. The idea of the node
 is to define a constraint using the dotted form of the JSON specification of the bid request parameter. By default
 if you specify a Node and the hierarchy does not exist in the bid request, then this means the campaign does not match. You can
 override this behavior by setting the object's 'notPresentOk' flag. Then when the hierarchy doesn;t exist, the Node tests true
 otherwise if it is present, then the Node returns the value of the comparison that was specified.
 <p>
 Examples Hierarchies:
 <p>
 Retrieve a value: 'user.geo.country' - this means the Node will extract this field from the bid request.
 <p>
 Retrieve a value from a list: 'imp.0.id' is equivalent to JS: value = imp[0].id;
 <p>
 You also specify what to compare the bid request's values to. In could be that the return values are an array, or maybe just a
 scalar. The Node can handle both data types.
 <p>
 The comparison operators are equal, not equal, lt, le, gt, ge Member of set, not member of set, set intersects, not set intersects, geo in range lat/lon,
 not in range of lat/lon, in the domain of a range of numbers, and not in the range of numbers.
 <p>
 TODO: Query</div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Ben M. Faul</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected java.util.List&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/xrtb/common/Node.html#bidRequestValues">bidRequestValues</a></span></code>
<div class="block">decomposed hierarchy</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected java.lang.Object</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/xrtb/common/Node.html#brValue">brValue</a></span></code>
<div class="block">The retrieved object from the bid, as defined in the hierarchy</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/xrtb/common/Node.html#code">code</a></span></code>
<div class="block">if present will execute this JavaScript code</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/xrtb/common/Node.html#DOMAIN">DOMAIN</a></span></code>
<div class="block">Test in domain x less than y greater than z</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/xrtb/common/Node.html#EQUALS">EQUALS</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/xrtb/common/Node.html#extension">extension</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/xrtb/common/Node.html#GREATER_THAN">GREATER_THAN</a></span></code>
<div class="block">Test greater than numeric</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/xrtb/common/Node.html#GREATER_THAN_EQUALS">GREATER_THAN_EQUALS</a></span></code>
<div class="block">Test greater than equal numeric</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/xrtb/common/Node.html#hierarchy">hierarchy</a></span></code>
<div class="block">dotted form of the item in the bid to pull (eg user.geo.lat)</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/xrtb/common/Node.html#INRANGE">INRANGE</a></span></code>
<div class="block">Test lat/lon range with other lat/lon, in km</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/xrtb/common/Node.html#INTERSECTS">INTERSECTS</a></span></code>
<div class="block">Test set intersection</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/xrtb/common/Node.html#LESS_THAN">LESS_THAN</a></span></code>
<div class="block">Test less than numeric</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/xrtb/common/Node.html#LESS_THAN_EQUALS">LESS_THAN_EQUALS</a></span></code>
<div class="block">Test less than equal numeric</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/xrtb/common/Node.html#MEMBER">MEMBER</a></span></code>
<div class="block">Test for set membership</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/xrtb/common/Node.html#name">name</a></span></code>
<div class="block">campaign identifier</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/xrtb/common/Node.html#NOT_DOMAIN">NOT_DOMAIN</a></span></code>
<div class="block">Test not in domain</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/xrtb/common/Node.html#NOT_EQUALS">NOT_EQUALS</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/xrtb/common/Node.html#NOT_INRANGE">NOT_INRANGE</a></span></code>
<div class="block">Test not in range</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/xrtb/common/Node.html#NOT_INTERSECTS">NOT_INTERSECTS</a></span></code>
<div class="block">Test not intersection</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/xrtb/common/Node.html#NOT_MEMBER">NOT_MEMBER</a></span></code>
<div class="block">Test for not membership</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/xrtb/common/Node.html#notPresentOk">notPresentOk</a></span></code>
<div class="block">set to false if required field not present</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/xrtb/common/Node.html#op">op</a></span></code>
<div class="block">text name of the operator</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/xrtb/common/Node.html#operator">operator</a></span></code>
<div class="block">which operator to use</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.util.Map&lt;java.lang.String,java.lang.Integer&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/xrtb/common/Node.html#OPS">OPS</a></span></code>
<div class="block">A convenient map to turn string operator references to their int conterparts</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/xrtb/common/Node.html#QUERY">QUERY</a></span></code>
<div class="block">Query TBD</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../com/xrtb/common/JJS.html" title="class in com.xrtb.common">JJS</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/xrtb/common/Node.html#shell">shell</a></span></code>
<div class="block">context to execute in</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/xrtb/common/Node.html#subtype">subtype</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.Object</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/xrtb/common/Node.html#value">value</a></span></code>
<div class="block">Node's value as an object.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../com/xrtb/common/Node.html#Node--">Node</a></span>()</code>
<div class="block">Simple constructor useful for testing.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../com/xrtb/common/Node.html#Node-java.lang.String-java.lang.String-int-java.lang.Object-">Node</a></span>(java.lang.String&nbsp;name,
    java.lang.String&nbsp;heirarchy,
    int&nbsp;operator,
    java.lang.Object&nbsp;value)</code>
<div class="block">Constructor for campaign node without attached JavaScript code</div>
</td>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../com/xrtb/common/Node.html#Node-java.lang.String-java.lang.String-java.lang.String-java.lang.Object-">Node</a></span>(java.lang.String&nbsp;name,
    java.lang.String&nbsp;hierarchy,
    java.lang.String&nbsp;operator,
    java.lang.Object&nbsp;value)</code>
<div class="block">Constructor for the campaign Node</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../com/xrtb/common/Node.html#Node-java.lang.String-java.lang.String-java.lang.String-java.lang.Object-java.lang.String-com.xrtb.common.JJS-">Node</a></span>(java.lang.String&nbsp;name,
    java.lang.String&nbsp;heirarchy,
    java.lang.String&nbsp;operator,
    java.lang.Object&nbsp;value,
    java.lang.String&nbsp;code,
    <a href="../../../com/xrtb/common/JJS.html" title="class in com.xrtb.common">JJS</a>&nbsp;shell)</code>
<div class="block">Constructor for the campaign Node with associated JavaScript</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/xrtb/common/Node.html#computeInDomain-java.lang.Number-java.util.List-">computeInDomain</a></span>(java.lang.Number&nbsp;ival,
               java.util.List&nbsp;qvalue)</code>
<div class="block">Determine of the value of this node is in the domain of the other node.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/xrtb/common/Node.html#computeInRange-java.util.Map-java.util.List-">computeInRange</a></span>(java.util.Map&lt;java.lang.String,java.lang.Double&gt;&nbsp;pos,
              java.util.List&lt;java.util.Map&gt;&nbsp;qvalue)</code>
<div class="block">Compute range in meters from qval (set, lat, lon, meters) against a set of</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>java.lang.Object</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/xrtb/common/Node.html#getBRvalue--">getBRvalue</a></span>()</code>
<div class="block">Returns the value of the interrogate of the bid request.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>static double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/xrtb/common/Node.html#getRange-java.lang.Number-java.lang.Number-java.lang.Number-java.lang.Number-">getRange</a></span>(java.lang.Number&nbsp;xlat,
        java.lang.Number&nbsp;xlon,
        java.lang.Number&nbsp;ylat,
        java.lang.Number&nbsp;ylon)</code>
<div class="block">Compute distance in meters between xlat,xlon and ylat,ylon</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/xrtb/common/Node.html#processEquals-java.lang.Number-java.lang.Number-java.lang.String-java.lang.String-java.util.Set-java.util.Set-">processEquals</a></span>(java.lang.Number&nbsp;ival,
             java.lang.Number&nbsp;nvalue,
             java.lang.String&nbsp;sval,
             java.lang.String&nbsp;svalue,
             java.util.Set&nbsp;qval,
             java.util.Set&nbsp;qvalue)</code>
<div class="block">Determine if the value of this node object equals that of what is found in the
 bid request object.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/xrtb/common/Node.html#processLTE-int-java.lang.Number-java.lang.Number-java.lang.String-java.lang.String-java.util.Set-java.util.Set-">processLTE</a></span>(int&nbsp;operator,
          java.lang.Number&nbsp;ival,
          java.lang.Number&nbsp;nvalue,
          java.lang.String&nbsp;sval,
          java.lang.String&nbsp;svalue,
          java.util.Set&nbsp;qval,
          java.util.Set&nbsp;qvalue)</code>
<div class="block">Processes the relational operators.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/xrtb/common/Node.html#setValues--">setValues</a></span>()</code>
<div class="block">Sets the values from the this.value object.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/xrtb/common/Node.html#test-com.xrtb.pojo.BidRequest-">test</a></span>(<a href="../../../com/xrtb/pojo/BidRequest.html" title="class in com.xrtb.pojo">BidRequest</a>&nbsp;br)</code>
<div class="block">Test the bidrequest against this node</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/xrtb/common/Node.html#testInternal-java.lang.Object-">testInternal</a></span>(java.lang.Object&nbsp;value)</code>
<div class="block">Internal version of test() when recursion is required (NOT_* form)</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="QUERY">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>QUERY</h4>
<pre>public static final&nbsp;int QUERY</pre>
<div class="block">Query TBD</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#com.xrtb.common.Node.QUERY">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="EQUALS">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>EQUALS</h4>
<pre>public static final&nbsp;int EQUALS</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#com.xrtb.common.Node.EQUALS">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="NOT_EQUALS">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>NOT_EQUALS</h4>
<pre>public static final&nbsp;int NOT_EQUALS</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#com.xrtb.common.Node.NOT_EQUALS">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="MEMBER">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MEMBER</h4>
<pre>public static final&nbsp;int MEMBER</pre>
<div class="block">Test for set membership</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#com.xrtb.common.Node.MEMBER">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="NOT_MEMBER">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>NOT_MEMBER</h4>
<pre>public static final&nbsp;int NOT_MEMBER</pre>
<div class="block">Test for not membership</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#com.xrtb.common.Node.NOT_MEMBER">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="INTERSECTS">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>INTERSECTS</h4>
<pre>public static final&nbsp;int INTERSECTS</pre>
<div class="block">Test set intersection</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#com.xrtb.common.Node.INTERSECTS">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="NOT_INTERSECTS">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>NOT_INTERSECTS</h4>
<pre>public static final&nbsp;int NOT_INTERSECTS</pre>
<div class="block">Test not intersection</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#com.xrtb.common.Node.NOT_INTERSECTS">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="INRANGE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>INRANGE</h4>
<pre>public static final&nbsp;int INRANGE</pre>
<div class="block">Test lat/lon range with other lat/lon, in km</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#com.xrtb.common.Node.INRANGE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="NOT_INRANGE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>NOT_INRANGE</h4>
<pre>public static final&nbsp;int NOT_INRANGE</pre>
<div class="block">Test not in range</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#com.xrtb.common.Node.NOT_INRANGE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="LESS_THAN">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>LESS_THAN</h4>
<pre>public static final&nbsp;int LESS_THAN</pre>
<div class="block">Test less than numeric</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#com.xrtb.common.Node.LESS_THAN">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="LESS_THAN_EQUALS">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>LESS_THAN_EQUALS</h4>
<pre>public static final&nbsp;int LESS_THAN_EQUALS</pre>
<div class="block">Test less than equal numeric</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#com.xrtb.common.Node.LESS_THAN_EQUALS">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="GREATER_THAN">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>GREATER_THAN</h4>
<pre>public static final&nbsp;int GREATER_THAN</pre>
<div class="block">Test greater than numeric</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#com.xrtb.common.Node.GREATER_THAN">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="GREATER_THAN_EQUALS">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>GREATER_THAN_EQUALS</h4>
<pre>public static final&nbsp;int GREATER_THAN_EQUALS</pre>
<div class="block">Test greater than equal numeric</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#com.xrtb.common.Node.GREATER_THAN_EQUALS">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="DOMAIN">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DOMAIN</h4>
<pre>public static final&nbsp;int DOMAIN</pre>
<div class="block">Test in domain x less than y greater than z</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#com.xrtb.common.Node.DOMAIN">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="NOT_DOMAIN">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>NOT_DOMAIN</h4>
<pre>public static final&nbsp;int NOT_DOMAIN</pre>
<div class="block">Test not in domain</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#com.xrtb.common.Node.NOT_DOMAIN">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="OPS">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>OPS</h4>
<pre>public static&nbsp;java.util.Map&lt;java.lang.String,java.lang.Integer&gt; OPS</pre>
<div class="block">A convenient map to turn string operator references to their int conterparts</div>
</li>
</ul>
<a name="extension">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>extension</h4>
<pre>public&nbsp;java.lang.String extension</pre>
</li>
</ul>
<a name="subtype">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>subtype</h4>
<pre>public&nbsp;java.lang.String subtype</pre>
</li>
</ul>
<a name="name">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>name</h4>
<pre>public&nbsp;java.lang.String name</pre>
<div class="block">campaign identifier</div>
</li>
</ul>
<a name="hierarchy">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hierarchy</h4>
<pre>public&nbsp;java.lang.String hierarchy</pre>
<div class="block">dotted form of the item in the bid to pull (eg user.geo.lat)</div>
</li>
</ul>
<a name="operator">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>operator</h4>
<pre>public&nbsp;int operator</pre>
<div class="block">which operator to use</div>
</li>
</ul>
<a name="value">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>value</h4>
<pre>public&nbsp;java.lang.Object value</pre>
<div class="block">Node's value as an object.</div>
</li>
</ul>
<a name="brValue">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>brValue</h4>
<pre>protected&nbsp;java.lang.Object brValue</pre>
<div class="block">The retrieved object from the bid, as defined in the hierarchy</div>
</li>
</ul>
<a name="code">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>code</h4>
<pre>protected&nbsp;java.lang.String code</pre>
<div class="block">if present will execute this JavaScript code</div>
</li>
</ul>
<a name="shell">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>shell</h4>
<pre>public&nbsp;<a href="../../../com/xrtb/common/JJS.html" title="class in com.xrtb.common">JJS</a> shell</pre>
<div class="block">context to execute in</div>
</li>
</ul>
<a name="op">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>op</h4>
<pre>public&nbsp;java.lang.String op</pre>
<div class="block">text name of the operator</div>
</li>
</ul>
<a name="notPresentOk">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>notPresentOk</h4>
<pre>public&nbsp;boolean notPresentOk</pre>
<div class="block">set to false if required field not present</div>
</li>
</ul>
<a name="bidRequestValues">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>bidRequestValues</h4>
<pre>protected&nbsp;java.util.List&lt;java.lang.String&gt; bidRequestValues</pre>
<div class="block">decomposed hierarchy</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="Node--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>Node</h4>
<pre>public&nbsp;Node()</pre>
<div class="block">Simple constructor useful for testing.</div>
</li>
</ul>
<a name="Node-java.lang.String-java.lang.String-java.lang.String-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>Node</h4>
<pre>public&nbsp;Node(java.lang.String&nbsp;name,
            java.lang.String&nbsp;hierarchy,
            java.lang.String&nbsp;operator,
            java.lang.Object&nbsp;value)
     throws java.lang.Exception</pre>
<div class="block">Constructor for the campaign Node</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>name.</code> - String - the name of this node.</dd>
<dd><code>hierarchy.</code> - String - the hierarchy in the request associated with this node.</dd>
<dd><code>operator.</code> - int - the operator to apply to this operation.</dd>
<dd><code>value.</code> - Object - the constant to test the value of the hierarchy against.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - if the values obejct is not recognized.</dd>
</dl>
</li>
</ul>
<a name="Node-java.lang.String-java.lang.String-int-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>Node</h4>
<pre>public&nbsp;Node(java.lang.String&nbsp;name,
            java.lang.String&nbsp;heirarchy,
            int&nbsp;operator,
            java.lang.Object&nbsp;value)
     throws java.lang.Exception</pre>
<div class="block">Constructor for campaign node without attached JavaScript code</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>name</code> - String. The name of the node.</dd>
<dd><code>heirarchy</code> - The dotted notation hierarchy associated with this node.</dd>
<dd><code>operator</code> - int. The operation to apply to the node.</dd>
<dd><code>value</code> - Object. The value that the bid request specified by hierarchy will be tested against.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - if the value object is not recognized.</dd>
</dl>
</li>
</ul>
<a name="Node-java.lang.String-java.lang.String-java.lang.String-java.lang.Object-java.lang.String-com.xrtb.common.JJS-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Node</h4>
<pre>public&nbsp;Node(java.lang.String&nbsp;name,
            java.lang.String&nbsp;heirarchy,
            java.lang.String&nbsp;operator,
            java.lang.Object&nbsp;value,
            java.lang.String&nbsp;code,
            <a href="../../../com/xrtb/common/JJS.html" title="class in com.xrtb.common">JJS</a>&nbsp;shell)
     throws java.lang.Exception</pre>
<div class="block">Constructor for the campaign Node with associated JavaScript</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>name.</code> - String - the name of this node.</dd>
<dd><code>heirarchy.</code> - String - the hierarchy in the request associated with this node.</dd>
<dd><code>operator.</code> - int - the operator to apply to this operation.</dd>
<dd><code>value.</code> - Object - the constant to test the value of the hierarchy against.</dd>
<dd><code>code.</code> - String - the Java code to execute if node evaluates true.</dd>
<dd><code>shell.</code> - JJS - the encapsulated Nashhorn context to use for this operation.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - if the value object is not recognized.</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="setValues--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setValues</h4>
<pre>public&nbsp;void&nbsp;setValues()
               throws java.lang.Exception</pre>
<div class="block">Sets the values from the this.value object.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - if this.values is not a recognized object.</dd>
</dl>
</li>
</ul>
<a name="test-com.xrtb.pojo.BidRequest-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test</h4>
<pre>public&nbsp;boolean&nbsp;test(<a href="../../../com/xrtb/pojo/BidRequest.html" title="class in com.xrtb.pojo">BidRequest</a>&nbsp;br)
             throws java.lang.Exception</pre>
<div class="block">Test the bidrequest against this node</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>br.</code> - BidRequest - the bid request object to test.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>boolean - returns true if br-value op value evaluates true. Else false.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - if the request object and the values are not compatible.</dd>
</dl>
</li>
</ul>
<a name="testInternal-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>testInternal</h4>
<pre>public&nbsp;boolean&nbsp;testInternal(java.lang.Object&nbsp;value)
                     throws java.lang.Exception</pre>
<div class="block">Internal version of test() when recursion is required (NOT_* form)</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>value.</code> - Object. Converts the value of the bid request field (Jackson) to the appropriate Java object.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>boolean. Returns true if the operation succeeded.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - if the value is not recognized or is not compatible with this.value.</dd>
</dl>
</li>
</ul>
<a name="processLTE-int-java.lang.Number-java.lang.Number-java.lang.String-java.lang.String-java.util.Set-java.util.Set-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>processLTE</h4>
<pre>public&nbsp;boolean&nbsp;processLTE(int&nbsp;operator,
                          java.lang.Number&nbsp;ival,
                          java.lang.Number&nbsp;nvalue,
                          java.lang.String&nbsp;sval,
                          java.lang.String&nbsp;svalue,
                          java.util.Set&nbsp;qval,
                          java.util.Set&nbsp;qvalue)</pre>
<div class="block">Processes the relational operators.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>operator.</code> - int - less than, less than equal, etc...</dd>
<dd><code>ival.</code> - Number - The constant's value if a number.</dd>
<dd><code>nvalue.</code> - Number - The bid request's value if a number,</dd>
<dd><code>sval.</code> - String - the constant's value if a String.</dd>
<dd><code>svalue.</code> - String - the bid request value if a String.</dd>
<dd><code>qval.</code> - Set - constant's value if it is a Set.</dd>
<dd><code>qvalue.</code> - Set - the bid requests value if it is a Set.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>boolean. Returns the value of the operation (true or false).</dd>
</dl>
</li>
</ul>
<a name="processEquals-java.lang.Number-java.lang.Number-java.lang.String-java.lang.String-java.util.Set-java.util.Set-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>processEquals</h4>
<pre>public&nbsp;boolean&nbsp;processEquals(java.lang.Number&nbsp;ival,
                             java.lang.Number&nbsp;nvalue,
                             java.lang.String&nbsp;sval,
                             java.lang.String&nbsp;svalue,
                             java.util.Set&nbsp;qval,
                             java.util.Set&nbsp;qvalue)</pre>
<div class="block">Determine if the value of this node object equals that of what is found in the
 bid request object.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ival.</code> - Number - The constant's value if a number.</dd>
<dd><code>nvalue.</code> - Number - The bid request's value if a number,</dd>
<dd><code>sval.</code> - String - the constant's value if a String.</dd>
<dd><code>svalue.</code> - String - the bid request value if a String.</dd>
<dd><code>qval.</code> - Set - constant's value if it is a Set.</dd>
<dd><code>qvalue.</code> - Set - the bid requests value if it is a Set.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>boolean. Returns true if operation is true.</dd>
</dl>
</li>
</ul>
<a name="computeInRange-java.util.Map-java.util.List-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>computeInRange</h4>
<pre>public&nbsp;boolean&nbsp;computeInRange(java.util.Map&lt;java.lang.String,java.lang.Double&gt;&nbsp;pos,
                              java.util.List&lt;java.util.Map&gt;&nbsp;qvalue)</pre>
<div class="block">Compute range in meters from qval (set, lat, lon, meters) against a set of</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>pos.</code> - Map - A  map of the geo object in the bid request; containing keys "lat","lon","type".</dd>
<dd><code>qvalue.</code> - List A list of maps defining "lat", "lon","range" for testing against multiple regions. This is the constant value.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>boolean. Returns true if any of the qvalue regions is in range of pos.</dd>
</dl>
</li>
</ul>
<a name="getRange-java.lang.Number-java.lang.Number-java.lang.Number-java.lang.Number-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRange</h4>
<pre>public static&nbsp;double&nbsp;getRange(java.lang.Number&nbsp;xlat,
                              java.lang.Number&nbsp;xlon,
                              java.lang.Number&nbsp;ylat,
                              java.lang.Number&nbsp;ylon)</pre>
<div class="block">Compute distance in meters between xlat,xlon and ylat,ylon</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>xlat</code> - - First point's latitude</dd>
<dd><code>xlon</code> - - First point's longitude</dd>
<dd><code>ylat</code> - - Second point's latitude</dd>
<dd><code>ylon</code> - - Second point's longitude</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>double. Distance in meters between these 2 points.</dd>
</dl>
</li>
</ul>
<a name="computeInDomain-java.lang.Number-java.util.List-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>computeInDomain</h4>
<pre>public&nbsp;boolean&nbsp;computeInDomain(java.lang.Number&nbsp;ival,
                               java.util.List&nbsp;qvalue)
                        throws java.lang.Exception</pre>
<div class="block">Determine of the value of this node is in the domain of the other node.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ival</code> - Number. The value to be tested.</dd>
<dd><code>qvalue</code> - List. The low and high values to test</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>boolean. Returns true of value is in the domain of qvalue, else false;</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - if the values being compared are not compatible or not a recognized type.</dd>
</dl>
</li>
</ul>
<a name="getBRvalue--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getBRvalue</h4>
<pre>public&nbsp;java.lang.Object&nbsp;getBRvalue()</pre>
<div class="block">Returns the value of the interrogate of the bid request.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Object. The value of the bid request derived from the query of the hierarchy.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/xrtb/common/JJS.html" title="class in com.xrtb.common"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../com/xrtb/common/Template.html" title="class in com.xrtb.common"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/xrtb/common/Node.html" target="_top">Frames</a></li>
<li><a href="Node.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
