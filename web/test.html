<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Bootstrap static html page for campaign administration.">
    <meta name="keywords" content="RTB,OpenRTB,JAVA,Advertising,real-time,campaign,administration">
    <meta name="author" content="RTB4FREE">
<title>RTB4FREE Admin</title>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap-theme.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<style type="text/css">
	.bs-example{
		margin: 20px;
	}
</style>
</head>
<body>
<div class="bs-example">
<h2>RTB4FREE Campaign Administrator Page</h2>
<p>This page is used to manage sample campaigns. You need a login to actually manage your campaigns.
If you already have made a login, type the name in here and push the 'Login' button.</p>
<p>If you don't have a login, simply type the login name you would like and push 'Login' and 
a login will be made for you.</p>
<p>Be aware that logins expire after 30 days, and your login (and campaigns) are deleted unless
you login at least once within the 30 day period.</p>

<input type="text" id="p_username" size="40" value="" placeholder="User name" />
<input type="button" id="p_login" value="Login" onclick="doLogin()"/>


<script>

function doLogin() {

	data = {
		command: 'login',
		username: document.getElementById('p_username').value
	};
	
       $.ajax({
         type: 'POST',
         url:'ajax',
         data: JSON.stringify(data),
         dataType: 'json',
         success: function(data, textStatus, request){
           if (request.status == 204) {
           	text = "";
           } else {
           	text = request.responseText;
           	data = JSON.parse(text);
           	
           	code = data.code;
           	camps = data.campaigns;
           	message = data.message;
           	text = JSON.stringify(data,null,2);
         
           }
           console.log("code = " + code);
           console.log("data = " + JSON.stringify(camps,null,2));
           document.getElementById("area51").innerHTML=code;
           if (message != null && message != "")
           		alert(message);

         },
         error: function (request, textStatus, errorThrown) {
           alert("Error: " + request.responseText);
         }});

}

</script>

<div id="area51">

</div>

</body>

<script>

function doCamp(which) {
	alert(which);
	for(i=0;i<camps.length;i++) {
		c = camps[i];
		if (c.name == which)
			alert(c.value);
	}
}

</script>


</html>                                		